@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor
@{
	var userRole = HttpContextAccessor.HttpContext.Session.GetString("UserRole"); // Ex: "Admin", "Conferente", "Entregador"
}

<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Fast+</title>
	<link href="~/lib/bootstrap-5.3.5-dist/css/bootstrap.css" rel="stylesheet" />
	<link href="~/css/style.css" rel="stylesheet"/>
	<style>
		body {
			margin: 0;
		}

		.sidebar {
			height: 100vh;
			width: 250px;
			position: fixed;
			left: 0;
			top: 0;
			background-color: #343a40;
			padding-top: 20px;
			z-index: 1000;
		}

		.sidebar a {
			padding: 10px 20px;
			text-decoration: none;
			font-size: 16px;
			color: white;
			display: block;
		}

		.sidebar a:hover {
			background-color: #495057;
		}

		.main-content {
			margin-left: 250px;
		}
	</style>
</head>
<body>
	<div class="sidebar">
		<h4 class="text-white text-center mb-4">Fast+</h4>

		@if (userRole == "Admin")
		{
				<a href="/admin/home">Dashboard</a>
				<a href="/admin/conferentes">Conferentes</a>
				<a href="/admin/entregadores">Entregadores</a>
		}
		else if (userRole == "Conferente")
		{
				<a href="/conferente/home">Início</a>
				<a href="/conferente/entregas">Entregas</a>
		}
		else if (userRole == "Entregador")
		{
				<a href="/entregador/home">Início</a>
				<a href="/entregador/minhas-entregas">Minhas Entregas</a>
		}

		<a href="/logout">Sair</a>
	</div>

	<div class="main-content">
		<header class="bg-primary text-white py-3 mb-4">
			<div class="container d-flex justify-content-between align-items-center">
				<h1 class="h4 m-0">Fast+</h1>
				<a asp-controller="Home" asp-action="Index">
					<img src="~/imagens/casa.png" alt="Home" width="30" height="30">
				</a>
			</div>
		</header>

		<main class="container mb-5">
			@RenderBody()
		</main>

		<footer class="bg-light text-center py-3 mt-auto border-top">
			<small>&copy; 2025 Fast+. Todos os direitos reservados.</small>
		</footer>
	</div>

	<script src="~/lib/bootstrap-5.3.5-dist/js/bootstrap.min.js"></script>
</body>
</html>